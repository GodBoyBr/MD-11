<?xml version="1.0"?>

<!-- McDonnell Douglas MD-11 FADEC GE -->
<!-- Copyright (c) 2020 Josh Davidson (Octal450) -->

<system name="MD-11: FADEC GE">
	
	<property value="1">fadec/limits/packs-off</property>
	
	<channel name="Thrust Limits">
		
		<fcs_function name="fadec/limits/rated-thrust-n1">
			<function>
				<table>
					<independentVar lookup="row">/position/altitude-ft</independentVar>
					<independentVar lookup="column">/environment/temperature-degc</independentVar>
					<tableData>
						      -60    -30     0      30     60
						    0   94.9  100.9  106.4  111.7  106.2
						10000  101.4  105.5  111.3  112.9  108.1
						43000  101.4  101.8  107.5  113.2  110.8
					</tableData>
				</table>
			</function>
		</fcs_function>
		
		<fcs_function name="fadec/limits/rated-thrust-factor-lbs">
			<function>
				<max>
					<product>
						<!-- Calculate thrust here -->
						<value>61500</value>
					</product>
					<value>1</value> <!-- Prevent divide by 0 -->
				</max>
			</function>
		</fcs_function>
		
		<fcs_function name="fadec/limits/rated-thrust-factor"> <!-- Normalize -->
			<function>
				<quotient>
					<value>61500</value>
					<property>fadec/limits/rated-thrust-factor-lbs</property>
				</quotient>
			</function>
		</fcs_function>
		
		<fcs_function name="fadec/limits/takeoff"> <!-- From FCOM -->
			<function>
				<sum>
					<table>
						<independentVar lookup="row">/position/altitude-ft</independentVar>
						<independentVar lookup="column">/environment/temperature-degc</independentVar>
						<tableData>
								  -30    -20    -10     0      10     20     30     40     50
							-1000   98.9  100.7  102.5  104.3  106.1  107.8  109.6  108.7  107.0
								0  100.5  102.4  104.2  106.0  107.8  109.6  111.4  109.5  107.5
							 1000  101.2  103.1  104.9  106.8  108.5  110.3  111.4  109.5  107.4
							 2000  101.9  103.8  105.6  107.5  109.2  111.0  111.3  109.4  107.3
							 3000  102.7  104.5  106.4  108.2  110.0  111.8  111.3  109.2  107.3
							 4000  103.4  105.3  107.1  108.9  110.7  112.4  111.3  109.0  107.5
							 5000  104.2  106.0  107.9  109.6  111.4  113.2  111.2  108.8  107.5
							 6000  104.9  106.8  108.6  110.3  112.1  113.3  111.3  108.9  107.6
							 7000  105.8  107.7  109.5  111.3  113.1  113.2  111.1  108.9  107.6
							 8000  106.6  108.5  110.4  112.2  114.0  113.1  110.8  108.9  107.6
							 9000  107.0  109.0  110.9  112.7  114.4  113.0  110.8  109.0  107.7
							10000  107.5  109.5  111.4  113.2  114.9  112.9  110.8  109.2  107.9
						</tableData>
					</table>
					<product>
						<table>
							<independentVar lookup="row">/position/altitude-ft</independentVar>
							<tableData>
									0  0.3
								 2000  0.4
								 4000  0.4
								 6000  0.3
								 8000  0.4
								10000  0.4
							</tableData>
						</table>
						<property>fadec/limits/packs-off</property>
					</product>
				</sum>
			</function>
		</fcs_function>
		
		<pure_gain name="fadec/limits/go-around">
			<input>fadec/limits/rated-thrust-n1</input>
			<gain>1.0</gain>
		</pure_gain>
	
	</channel>

</system>
